databaseChangeLog:
  - changeSet:
      id: create_app_user_sequence
      author: aleksandrPob
      changes:
        - createSequence:
            sequenceName: APP_USER_SEQ_ID
      rollback:
        - dropSequence:
            sequenceName: APP_USER_SEQ_ID
  - changeSet:
      id: create_app_user_table
      author: aleksandrPob
      changes:
        - createTable:
            tableName: APP_USER
            columns:
              - column:
                  name: ID
                  type: BIGINT
                  defaultValueSequenceNext: APP_USER_SEQ_ID
                  constraints:
                    primaryKey: true
              - column:
                  name: FIRST_NAME
                  type: VARCHAR(100)
                  constraints:
                    unique: true
              - column:
                  name: LAST_NAME
                  type: VARCHAR(100)
                  constraints:
                    unique: true
              - column:
                  name: MIDDLE_NAME
                  type: VARCHAR(100)
                  constraints:
                    unique: true
              - column:
                  name: EMAIL
                  type: VARCHAR(100)
                  constraints:
                    unique: true
              - column:
                  name: PASSWORD
                  type: VARCHAR(100)
      rollback:
        - dropTable:
            tableName: APP_USER
  - changeSet:
      id: create_role_sequence
      author: aleksandrPob
      changes:
        - createSequence:
            sequenceName: ROLE_SEQ_ID
      rollback:
        - dropSequence:
            sequenceName: ROLE_SEQ_ID
  - changeSet:
      id: create_role_table
      author: aleksandrPob
      changes:
        - createTable:
            tableName: ROLE
            columns:
              - column:
                  name: ID
                  type: BIGINT
                  defaultValueSequenceNext: ROLE_SEQ_ID
                  constraints:
                    primaryKey: true
              - column:
                  name: NAME
                  type: VARCHAR(100)
                  constraints:
                    unique: true
      rollback:
        - dropTable:
            tableName: ROLE
  - changeSet:
      id: create_user_role_sequence
      author: aleksandrPob
      changes:
        - createSequence:
            sequenceName: APP_USER_ROLE_SEQ_ID
      rollback:
        - dropSequence:
            sequenceName: APP_USER_ROLE_SEQ_ID
  - changeSet:
      id: create_user_role_table
      author: aleksandrPob
      changes:
        - createTable:
            tableName: APP_USER_ROLE
            columns:
              - column:
                  name: ID
                  type: BIGINT
                  defaultValueSequenceNext: APP_USER_ROLE_SEQ_ID
                  constraints:
                    primaryKey: true
              - column:
                  name: APP_USER_ID
                  type: BIGINT
                  constraints:
                    foreignKeyName: FK_APP_USER_ROLE_APP_USER
                    references: APP_USER(ID)
                    deleteCascade: false
              - column:
                  name: ROLE_ID
                  type: BIGINT
                  constraints:
                    foreignKeyName: FK_APP_USER_ROLE_ROLE
                    references: ROLE(ID)
                    deleteCascade: false
      rollback:
        - dropTable: